"""
Centralized prompts for the company research agent.
All LLM prompts are defined here for easy maintenance and updates.
"""

# ============================================================================
# BRIEFING PROMPTS
# ============================================================================

COMPANY_BRIEFING_PROMPT = """为{company}生成一份聚焦TIC需求（检测/检验/认证）的公司简报，{company}属于{industry}行业，总部位于{hq_location}。
关键要求：
1. 开头必须使用："{company} 是一家[什么公司]，其核心业务是[做什么]，主要服务于[谁]"
2. 使用以下标题（###）与要点（*）：

### 核心产品/服务与应用场景
* 列出明确的产品/服务与应用场景

### TIC需求与检测对象
* 列出需要检测/检验/认证的对象与关键质量特性

### 关键标准/法规与认证
* 列出适用的标准、法规或认证（如有）

### 质量与合规体系
* 列出已建立的质量/合规体系与相关证书

### 供应链与交付风险（与检测相关）
* 列出与质量、合规或检测有关的风险点

### 现有或潜在TIC合作
* 列出已披露或可确认的检测/认证合作方

3. 每条要点必须是单一、完整、可验证的事实，只基于提供文档
4. 不要出现“未找到信息/无数据”等表述
5. 不要写段落，只使用要点
6. 只输出简报本身，输出中文。"""

INDUSTRY_BRIEFING_PROMPT = """为{company}所在行业生成一份聚焦TIC需求格局（检测/检验/认证）的行业简报，行业为{industry}。
关键要求：
1. 使用以下标题（###）与要点（*）：

### 行业TIC需求概况
* 描述行业整体TIC需求范围与覆盖环节

### 核心法规/标准与合规要求
* 列出关键法规、标准或认证要求

### 主要检测/检验场景
* 列出高频或关键检测场景

### 需求驱动与趋势
* 列出需求驱动因素与趋势变化

### 主要TIC服务商与竞争格局
* 列出主要服务商/机构及其定位

### 机会与空白
* 列出需求缺口或高增长机会

2. 每条要点必须是单一、完整、可验证的事实，只基于提供文档
3. 不要出现“未找到信息/无数据”等表述
4. 不要写段落，只使用要点
5. 只输出简报本身，输出中文。"""

FINANCIAL_BRIEFING_PROMPT = """为{company}生成一份聚焦TIC需求的财务与合规线索简报。
关键要求：
1. 使用以下标题（###）与要点（*）：

### 质量与合规投入
* 列出与质量/合规相关的投入或预算线索

### 检测/认证成本与费用
* 列出检测/检验/认证相关费用或成本信息

### 召回/事故/罚款
* 列出与质量问题或合规处罚相关的事件

### TIC相关采购或合作
* 列出与检测机构或认证机构的采购/合作线索

2. 尽量包含明确金额、时间与主体
3. 每条要点必须是单一、完整、可验证的事实，只基于提供文档
4. 不要出现“未找到信息/无数据”等表述
5. 不要写段落，只使用要点
6. 只输出简报本身，输出中文。"""

NEWS_BRIEFING_PROMPT = """为{company}生成与TIC（检测/检验/认证）相关的近期动态简报。
关键要求：
1. 只用项目符号（*），不要使用任何###标题
2. 每条仅包含一个事件，按时间从新到旧
3. 可在开头用【公告/合作/监管/召回/认证】等标签标识类型
4. 每条要点必须是单一、完整、可验证的事实，只基于提供文档
5. 不要出现“未找到信息/无数据”等表述
6. 只输出简报本身，输出中文。"""

BRIEFING_ANALYSIS_INSTRUCTION = """请基于以下文档提取关键信息，直接输出简报本身，不要解释或评论，输出中文："""


# ============================================================================
# EDITOR PROMPTS
# ============================================================================

EDITOR_SYSTEM_MESSAGE = "你是资深研究报告编辑，负责将各类简报整合为中文的TIC需求研究报告。"

COMPILE_CONTENT_PROMPT = """你正在撰写关于{company}的TIC需求研究报告（检测/检验/认证）。

已汇总的简报内容：
{combined_content}

请生成一份深入、完整且中文输出的报告，要求：
1. 综合公司与行业的TIC需求、关键标准/法规、检测场景与风险
2. 保留各部分的重要细节，避免重复
3. 结构清晰，去除过渡性/解释性话语
4. 使用清晰的章节与小节

格式要求（必须严格遵守）：

# {company} TIC需求研究报告

## 公司TIC需求概况
[公司内容，使用###小节]

## 行业TIC需求格局
[行业内容，使用###小节]

## TIC相关财务与合规线索
[财务内容，使用###小节]

## 近期动态
[仅使用项目符号*，不要使用###标题]

仅输出Markdown报告正文，不要解释或评论。"""

CONTENT_SWEEP_SYSTEM_MESSAGE = "你是严谨的Markdown编辑，负责统一中文报告结构与格式。"

CONTENT_SWEEP_PROMPT = """你是简报编辑，正在清理{company}的报告。

当前报告：
{content}

任务：
1. 删除重复或冗余信息
2. 删除与{company}及其{industry}行业TIC需求无关的内容
3. 删除内容不足的段落
4. 删除任何元叙述（如“下面是...”）

严格使用以下结构（顺序与标题必须完全一致）：

## 公司TIC需求概况
[公司内容，使用###小节]

## 行业TIC需求格局
[行业内容，使用###小节]

## TIC相关财务与合规线索
[财务内容，使用###小节]

## 近期动态
[仅使用项目符号*，不要使用###标题]

## 参考资料
[保持原样，MLA格式，绝对不要改动]

关键规则：
1. 文档必须以 "# {company} TIC需求研究报告" 开头
2. 仅允许上述这些##标题，且顺序固定
3. 不允许其他##标题
4. 公司/行业/财务部分使用###作为小节标题
5. 近期动态仅使用项目符号*，不要使用任何标题
6. 不要使用代码块（```）
7. 章节之间最多一个空行
8. 所有项目符号都使用 *
9. 在每个章节/列表前后各保留一行空行
10. 不要改变参考资料部分的任何格式

仅输出清理后的Markdown，不要解释。"""


# ============================================================================
# RESEARCH QUERY GENERATION PROMPTS
# ============================================================================

COMPANY_ANALYZER_QUERY_PROMPT = """生成关于{company}（{industry}行业）TIC需求（检测/检验/认证）相关的检索词，例如：
- 产品/服务对应的检测/认证要求
- 质量管理体系与合规标准（如ISO/行业标准）
- 关键合规与监管要求
- 与检测机构/认证机构的合作
"""

FINANCIAL_ANALYZER_QUERY_PROMPT = """生成关于{company}（{industry}行业）与TIC需求相关的财务/合规线索检索词，例如：
- 质量与合规投入、检测费用
- 认证成本、审核费用
- 召回/质量事故/罚款
"""

INDUSTRY_ANALYZER_QUERY_PROMPT = """生成关于{company}所在{industry}行业TIC需求格局的检索词，例如：
- 行业检测/检验/认证需求与标准
- 监管要求与合规趋势
- 主要TIC服务商与竞争格局
- 需求驱动与高风险场景
"""

NEWS_SCANNER_QUERY_PROMPT = """生成关于{company}近期与TIC（检测/检验/认证）相关的新闻检索词，例如：
- 产品检测/认证公告
- 合规/监管动态与处罚
- 与检测机构的合作或采购
"""

QUERY_FORMAT_GUIDELINES = """
重要要求：
- 只关注{company}及其行业的TIC需求/检测/检验/认证相关信息
- 查询必须简洁明确
- 每行一个查询，共4条，不要编号或破折号
- 不要臆测行业信息，仅使用已提供的行业信息
- 使用中文输出查询"""
